package prod.smoke.program_level;

import com.carespeak.domain.entities.program.ProgramAccess;
import org.testng.Assert;
import org.testng.annotations.Test;
import prod.smoke.SmokeBaseTest;

public class ProgramManagementTest extends SmokeBaseTest {

    @Test(description = "Add new program")
    public void addNewProgram() {
        String programName = "AutoGenerated program " + getFormattedDate("dd-MM-yy-H-mm");

        site.programSteps().addNewProgram(client.getName(), programName, ProgramAccess.PUBLIC);

        String actualProgramName = site.programSteps()
                .getProgramByName(client.getName(), programName);
        Assert.assertEquals(actualProgramName, programName, "Actual program differs from expected program");
    }

    @Test(description = "Check that program is set to public")
    public void publicProgram() {
        String actualAccess = site.programSteps()
                .getProgramAccessModifier(client.getName(), ProgramAccess.PUBLIC.getValue() + " (Visit here)");

        Assert.assertEquals(actualAccess, ProgramAccess.PUBLIC.getValue(), "Actual access differs from expected access");
    }
}
